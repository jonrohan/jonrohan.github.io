<!doctype html>
<html prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">

  <head>

  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <meta name="google-site-verification" content="RlkXEN-itWvUefIzgXZdJ2alzxiK5qruVYNaIVw5sEs" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Jon Rohan - Dead Simple Git Workflow</title>
  <meta name="description" content="">
  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">

  <meta property="og:title" content="Dead Simple Git Workflow">
  <meta property="og:description" content="Recently I have had the privilege to work with a few excellent small agile teams. With each team, they have their own process, which works best for them. And there's nothing wrong with that, a team should work in it's most effective way. But I came across a team recently that had a workflow that really impressed me. To put it simply it's described as an extremely cool Git workflow.">
  <meta property="og:url" content="http://jonrohan.codes/fieldnotes/dead-simple-git-workflow-for-agile-teams">
  <meta property="og:image" content="/images/avatar.png">
  
  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2010-10-09 00:00:00 -0400">
  <meta property="article:author" content="Jon Rohan">
  <meta property="article:section" content="fieldnotes">
  <meta property="article:tag" content="">
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@jonrohan" />
  <meta name="twitter:title" content="Dead Simple Git Workflow" />
  <meta name="twitter:description" content="Recently I have had the privilege to work with a few excellent small agile teams. With each team, they have their own process, which works best for them. And there's nothing wrong with that, a team should work in it's most effective way. But I came across a team recently that had a workflow that really impressed me. To put it simply it's described as an extremely cool Git workflow." />
  <meta name="twitter:image" content="/images/avatar.png" />
  <meta name="twitter:url" content="http://jonrohan.codes/fieldnotes/dead-simple-git-workflow-for-agile-teams" />

  <link rel="stylesheet" href="/css/styles.css"    type="text/css" media="screen" charset="utf-8">
  <script src="//use.typekit.net/xlf5nmg.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>
</head>


  <body>
    <header>
      <div class="nav-bar fixed">
        <div class="container">
          <nav class="right">
            <ul>
              <li>
                <a href="/#about">About</a>
              </li>
              <li>
                <a href="/#work">Work</a>
              </li>
              <li>
                <a href="/#contact">Contact</a>
              </li>
            </ul>
          </nav>
          <h1 class="logo"><a href="/"><img src=""></a></h1>
        </div>
      </div>
      <div class="container">
        <p>I am a Web Designer and Developer working at <a href="https://github.com/about/team">GitHub</a>. My passion is building beautiful products and working with wonderful people.</p>
        <a href="#" class="js-em button" data-text="Let&#8217;s chat">Let&#8217;s chat</a>
      </div>
    </header>

    <article class="container">
      <article id="post" class="blog-post">
  <h2 class="text-center">Dead Simple Git Workflow</h2>
  
  <p class="text-center post-meta">
    <img src="/images/avatar.png" alt="jonrohan" class="avatar" width="30" height="30">
    <span class="author">Jon Rohan</span>
    <time>Oct 09, 2010</time>
     &middot; <span>3 min read</span> &middot; <span class="menu-wrapper">
  <span class="share-button"><span class="ion-share" title="share"></span> Share</span>
  <span class="menu">
    <a href="https://twitter.com/intent/tweet?text=Dead Simple Git Workflow&url=http://jonrohan.codes/fieldnotes/dead-simple-git-workflow-for-agile-teams&via=jonrohan" class="muted twitter-link"><span class="ion-social-twitter"></span> Twitter</a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=http://jonrohan.codes/fieldnotes/dead-simple-git-workflow-for-agile-teams" class="muted facebook-link"><span class="ion-social-facebook"></span> Facebook</a>
    <a href="mailto:?&subject=Dead Simple Git Workflow&body=Dead Simple Git Workflow%0Ahttp://jonrohan.codes/fieldnotes/dead-simple-git-workflow-for-agile-teams" class="muted"><span class="ion-email"></span> Email</a>
  </span>
</span>

  </p>
  <section class="markdown-body">
    <p>Recently I have had the privilege to work with a few excellent small agile teams. With each team, they have their own process, which works best for them. And there’s nothing wrong with that, a team should work in it’s most effective way. But I came across a team recently that had a workflow that really impressed me. To put it simply it’s described as an extremely cool Git workflow.</p>

<p>I can’t take credit for coming up with this workflow, but I’m gonna do my best to re-describe it here so it can be shared. The basis for this post comes from reinh.com’s posts <a href="http://reinh.com/blog/2009/03/02/a-git-workflow-for-agile-teams.html">A git workflow for Agile Teams</a> and <a href="http://reinh.com/blog/2008/08/27/hack-and-and-ship.html">Hack &amp;&amp; Ship</a>. Also this workflow pulls alot from Josh Susser’s post on the <a href="http://blog.hasmanythrough.com/2008/12/18/agile-git-and-the-story-branch-pattern">story branch pattern</a>.</p>

<p>Let’s start by summarizing Josh’s post. In his post he describes a 7 step process that begins with <a href="http://www.pivotaltracker.com">Pivotal Tracker</a>. The idea being you locate a story on pivotal tracker, like a bug, or feature, or chore. Then you update your working master by pulling from the origin, and create a whole branch just for that bug. Once you’ve fixed the bug, commited it to your branch, you then merge your branch with the master and push it all back up to the origin. Then just remove the old branch and you’re done.</p>

<p>That’s the basic workflow, but there is alot of automation that can be done. The first is the creation of the branch. This isn’t terribly long command ‘git checkout -b’ but I went ahead and created a shell alias ‘gcb’.</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nb">alias </span><span class="nv">gcb</span><span class="o">=</span><span class="s1">'git checkout -b'</span></code></pre></div>

<p>So now when creating my branch for working on my bug I just type</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">gcb fix_ie_bug_Story123456</code></pre></div>

<p>After creating my branch I would work on it normally doing ‘git commits’ when needed. Then when I’m ready comes the cool part. Hack &amp; Ship. Hack is what it’s called when you pull the lastest code from the origin and merge it with your branch. It’s a good idea to do this often, just to keep everything up to date. To not have to type and remember the few commands for accomplishing this, I use a shell script.</p>

<p>hack.sh</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c">#!/bin/sh -x</span>
<span class="gp">\# </span>hack: Merge the latest changes from the master branch into your current branch
<span class="nv">ref</span><span class="o">=</span><span class="k">$(</span>git symbolic-ref HEAD 2&gt; /dev/null<span class="k">)</span> <span class="o">||</span> <span class="nb">exit </span>0
<span class="nv">CURRENT</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">ref</span><span class="p">#refs/heads/</span><span class="k">}</span><span class="s2">"</span>
git checkout master
git pull origin master
git checkout <span class="k">${</span><span class="nv">CURRENT</span><span class="k">}</span>
git rebase master</code></pre></div>

<p>So during my coding, I can at anytime just type the command hack. And my branch is updated!</p>

<p>Once I’ve finished my bug and I’m ready to send it back to the origin I do one more ‘hack’, make sure it’s all updated. And then I ship. This will checkout the master merge my branch with it, and then push it to the origin. Once again I use a shell script for this.</p>

<p>ship.sh</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c">#!/bin/sh -x</span>
<span class="gp">\# </span>Git workflow ship script from: http://reinh.com/blog/2008/08/27/hack-and-and-ship.html
<span class="gp">\# </span>git name-rev is fail
<span class="nv">ref</span><span class="o">=</span><span class="k">$(</span>git symbolic-ref HEAD 2&gt; /dev/null<span class="k">)</span> <span class="o">||</span> <span class="nb">exit </span>0
<span class="nv">CURRENT</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">ref</span><span class="p">#refs/heads/</span><span class="k">}</span><span class="s2">"</span>
git checkout master
git merge <span class="k">${</span><span class="nv">CURRENT</span><span class="k">}</span>
git push origin master
git checkout <span class="k">${</span><span class="nv">CURRENT</span><span class="k">}</span></code></pre></div>

<p>Now I’m done with my bug, and there’s a script for that ‘dwf’. This will move me back to the master, and delete my old branch.</p>

<p>dwf.sh</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c">#!/bin/sh -x</span>
<span class="gp">\# </span>dwf, aka <span class="s2">"Done With Feature"</span> script: deletes current branch and puts you back on master
<span class="nv">ref</span><span class="o">=</span><span class="k">$(</span>git symbolic-ref HEAD 2&gt; /dev/null<span class="k">)</span> <span class="o">||</span> <span class="nb">exit </span>0
<span class="nv">CURRENT</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">ref</span><span class="p">#refs/heads/</span><span class="k">}</span><span class="s2">"</span>
git checkout master
git branch -d <span class="k">${</span><span class="nv">CURRENT</span><span class="k">}</span></code></pre></div>

<p>And we’re ready to repeat the whole process on a new bug/feature/chore.</p>

<p>You can even take this a bit farther, and create an alias for the last three commands ‘hsd’ (hack ship done)</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nb">alias </span><span class="nv">hsd</span><span class="o">=</span><span class="s2">"hack &amp;&amp; ship &amp;&amp; dwf"</span></code></pre></div>

<p>Pretty awesome! I’m sure there are hundreds of awesome workflows out there. What do you guys use on your projects?</p>

  </section>
</article>
<div class="post-page-foot clearfix">
  <span class="right share-wrap"><span class="menu-wrapper">
  <span class="share-button"><span class="ion-share" title="share"></span> Share</span>
  <span class="menu">
    <a href="https://twitter.com/intent/tweet?text=Dead Simple Git Workflow&url=http://jonrohan.codes/fieldnotes/dead-simple-git-workflow-for-agile-teams&via=jonrohan" class="muted twitter-link"><span class="ion-social-twitter"></span> Twitter</a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=http://jonrohan.codes/fieldnotes/dead-simple-git-workflow-for-agile-teams" class="muted facebook-link"><span class="ion-social-facebook"></span> Facebook</a>
    <a href="mailto:?&subject=Dead Simple Git Workflow&body=Dead Simple Git Workflow%0Ahttp://jonrohan.codes/fieldnotes/dead-simple-git-workflow-for-agile-teams" class="muted"><span class="ion-email"></span> Email</a>
  </span>
</span>
</span>
  <a href="https://twitter.com/jonrohan" class="twitter-link follow-me button" data-text="Follow">Follow</a>
  <img src="/images/avatar.png" alt="jonrohan" class="avatar" width="50" height="50">
  This post was hastily written by
  <span class="author-name">Jon Rohan</span>
</div>

<hr>
<h4>More to read</h4>
  
    <a href="/fieldnotes/text-rotation#post" class="next-post">
      <h3>Text Rotation</h3>
      What I wanted to make was a clock. The basis of this project is using the -webkit-transform:rotate(0deg); css property. This allows you to rotate any object 360 degrees. So I began to wonder, if I have a line, and I setup a javascript timer can I rotate it every second?
    </a>
  
  


<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

    </article>

    <footer>
      <div class="container">
        &copy; 2015. All rights reserved. <a href="/atom.xml">Feed</a>
      </div>
    </footer>
    <div class="modal-screen"></div>
    <script async type="text/javascript" src="/js/jquery-1.11.2.min.js"></script>
<script async type="text/javascript" src="/js/scripts.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-543420-18', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
